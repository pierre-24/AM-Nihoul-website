{% macro render_field(field) %}
  <li class="{% if field.errors %}with-error{% endif %} {% if field.type == 'BooleanField'  %} booleanfield{% endif %}">
  {% if field.type == 'BooleanField'  %}
    {{ field(**kwargs)|safe }}
    {{ field.label }}
  {% else %}
    {{ field.label }}
    {{ field(**kwargs)|safe }}
  {% endif %}
    {% if field.errors %}
        <ul class=errors>
        {% for error in field.errors %}
          <li>{{ error }}</li>
        {% endfor %}
        </ul>
      {% endif %}
  </li>
{% endmacro %}

{% macro create_modal(id, title, content, bottom='', action='', multipart=False) %}
  <div id="{{ id }}" class="modal fade" role="dialog">
        <form class="modal-dialog" method="post" {% if action %}action="{{ action }}"{% endif %} {% if multipart %}enctype="multipart/form-data"{% endif %}>
        <div class="modal-content">
            <div class="modal-header">
                <h5>{{ title|safe }}</h5>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
            {{ content|safe }}
            </div>
            {%  if bottom != '' %}
            <p class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                {{ bottom|safe }}
            </p>
            {% endif %}
        </div>
        </form>
    </div>
{% endmacro %}

{% macro create_delete_modal(model, id, info, link) %}
    {{ create_modal(
        'delete-' + model + '-' + id|string,
        'Suppression', '<p>Voulez vous vraiment supprimer ' + info + ' ?</p>',
        '<input type="submit" value="Supprimer" class="btn btn-primary" />',
        url_for(link, id=id)) }}
{% endmacro %}
